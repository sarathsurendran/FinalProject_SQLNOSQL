# Logstash pipeline to load business json
#  Logstash -> Elasticsearch pipeline.

input {
	file {
		path => "C:/Workspace/graph/yelp/yelp_academic_dataset_business.json"
		sincedb_path => "nul"
		type => "json"
		codec => "json"
		start_position =>"beginning"
	}

}
filter{
	mutate {
		rename => {
			"longitude" => "[location][lon]"
			"latitude" => "[location][lat]"
		}
	}

}


output {
  elasticsearch {
    hosts => ["http://10.134.175.251:9200"]
    index => "business"
  }
  stdout {
        codec => rubydebug
    }
}
